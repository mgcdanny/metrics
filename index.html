<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <script type="text/javascript">
                "use strict";

                var socket = new WebSocket('ws://127.0.0.1:5000/v1/ws');

                socket.onopen = function (e) {
                    socket.send('hello, server, this is the the client');
                }

                socket.onmessage = function (event) {
                    console.log('socket onmessage');
                    console.log(event.data);
                    addTextNode('result', event.data)
                }

                var addTextNode = function(id, text){
                    // wrapper function to add text to existing html elements via id
                    var ul = document.getElementById(id);
                    var li = document.createElement("li");
                    li.appendChild(document.createTextNode(text));
                    ul.appendChild(li);
                };

        </script>
        
        <p>Hello websockets!</p>
        
        <ul id='result'></ul>

    </body>
</html>

